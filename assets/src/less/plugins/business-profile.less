//
// Styles for handling the output of the Business Profile plugin
//
.bp-contact-card {
	margin-left: auto;
	margin-right: auto;
	padding: @double;
	max-width: 600px;
	border: @border-line-light;
	background: @bg-lift;
	font-style: normal; // overwrite default <address> styling
}

.bp-name,
.bp-address,
.bp-phone,
.bp-contact,
.luigi-contact-card-links,
.bp-opening-hours .bp-title {
	padding-left: @quadruple;
}

.luigi-contact-card-address-wrapper,
.luigi-contact-card-contact-wrapper,
.luigi-contact-card-links {
	margin-bottom: @triple;
}

.luigi-contact-card-address-wrapper.hidden,
.luigi-contact-card-contact-wrapper.hidden {
	position: absolute;
	top: 0;
	left: -9999px;
}

.luigi-contact-card-address-wrapper,
.bp-name,
.bp-phone,
.bp-contact,
.bp-opening-hours .bp-title {
	background-position: left center;
	background-repeat: no-repeat;
	background-size: auto @font-base;
}

.luigi-contact-card-address-wrapper {
	&:extend(.luigi-icon-location);
	background-position: left 0.35em;
}

.bp-name {
	font-weight: @semibold;
	margin-bottom: @base;
}

.bp-address {
	font-size: @font-sml;
	line-height: @line-sml;
}

.bp-phone,
.bp-contact {
	font-weight: @semibold;
}

.bp-phone {
	&:extend(.luigi-icon-phone);
	margin-bottom: @triple;
}

.bp-contact {
	&:extend(.luigi-icon-contact);
}

.luigi-contact-card-links {

	> div {
		display: inline-block;
		margin-bottom: @base;
	}

	a {
		&:extend(.luigi-button all);
		&:extend(.luigi-button-sml all);
	}

	> div:first-child a {
		&:extend(.luigi-button-primary all);

		&:hover,
		&:focus {
			&:extend(.luigi-button:hover);
		}
	}
}

.bp-opening-hours {
	margin-left: -@double;
	margin-right: -@double;
	padding-left: @triple;
	padding-right: @triple;
	text-align: center;
	clear: both;

	&:not(:last-child) {
		margin-bottom: 60px;
		padding-bottom: 60px;
		border-bottom: @border-line-light;
	}

	&:not(:first-child) {
		margin-top: 60px;
		padding-top: 60px;
		border-top: @border-line-light;
	}

	.bp-title {
		&:extend(.luigi-icon-time);
		display: inline-block;
		padding-left: 25px;
		margin-bottom: @quadruple;
		font-size: @font-lead;
		line-height: @line-lead;
		font-weight: @bold;
		text-transform: uppercase;
	}

	.bp-weekday {
		.clearfix();
		padding: @half 1em;
		text-align: left;
		font-size: @font-tiny;
		line-height: @line-big;
		font-weight: @semibold;

		&:nth-child(odd) {
			background: rgba(0,0,0,0.03);
		}

		&:nth-child(even) {
			background: rgba(255,255,255,0.5);
		}
	}

	.bp-times {
		float: right;
		font-weight: @normal;
	}

	@media(min-width: @screen-sm) {
		margin-left: -@triple;
		margin-right: -@triple;
	}
}

// This is nasty and not very bulletproof. Ideally, we target this rule
// whenever the opening hours are displayed with nothing above. However, we can't
// write a CSS selector that knows that for sure. Instead, we make a best
// guess and say that if the address is not being displayed, probably the
// other pieces at the top aren't as well.
.bp-contact-card > meta[itemprop="address"] ~ .bp-opening-hours {
	margin-top: 0;
	padding-top: 0;
	border-top: 0;
	margin-bottom: 0;
}

.bp-map {
	min-height: 370px;

	p {
		margin: @base 0;
		font-size: @font-tinier;
		line-height: 15px;
		font-weight: @normal;
		color: @text; // Don't allow this to be overridden by color options

		a {
			font-weight: @semibold;
		}
	}
}

.bp-map-info-window {
	width: 200px;
	max-width: 100%;
}

@media(min-width: @screen-xs) {

	.bp-contact-card {
		padding: @triple;
	}
}

@media(min-width: @screen-sm) {

	.bp-contact-card,
	.luigi-contact-card-links {
		.clearfix();
		clear: both;
	}

	.luigi-contact-card-address-wrapper,
	.luigi-contact-card-contact-wrapper {
		float: left;
		width: 50%;
	}

	.luigi-contact-card-contact-wrapper {
		padding-left: @double;
	}
}

@media(min-width: @screen-lg) {

	.bp-contact-card {
		padding: 60px;
	}

	.bp-opening-hours {
		margin-left: -60px;
		margin-right: -60px;
		padding-left: 60px;
		padding-right: 60px;
	}
}

// The contact card when it appears in a modal
.luigi-modal {

	.bp-contact-card {
		border: none;
	}
}

// Swap out icons based on background color
.luigi-bg-dark,
.luigi-bg-light {

	.luigi-contact-card-address-wrapper {
		background: none;
	}
}

.luigi-bg-dark {

	.bp-name,
	.location-sidebar .bp-address {
		&:extend(.luigi-icon-w-location);
	}

	.bp-phone {
		&:extend(.luigi-icon-w-phone);
	}

	.bp-contact {
		&:extend(.luigi-icon-w-contact);
	}

	.bp-opening-hours .bp-title {
		&:extend(.luigi-icon-w-time);
	}
}

.luigi-bg-light {

	.bp-name,
	.location-sidebar .bp-address {
		&:extend(.luigi-icon-b-location);
	}

	.bp-phone {
		&:extend(.luigi-icon-b-phone);
	}

	.bp-contact {
		&:extend(.luigi-icon-b-contact);
	}

	.bp-opening-hours .bp-title {
		&:extend(.luigi-icon-b-time);
	}
}

// Single location pages
.single-location .bp-map + .site-content {
	margin-top: 60px;
}

// Mimic the narrow content layout for single event pages
.post-single-location {

	@media(min-width: @screen-md) {
		.clearfix();

		.location-content {
			float: left;
			width: @container-primary-md;
		}

		.location-sidebar {
			float: right;
			width: @sidebar-width;
		}

		.entry-content,
		.entry-footer {
			width: @content-width;
		}

		.entry-meta {
			display: block;
			margin: 0 auto 0;
			padding-left: @triple;
		}
	}

	@media(min-width: @screen-lg) {

		.entry-header {
			padding-left: 100px; // Align with main content column
		}

		.location-content {
			width: @container-primary-lg;
		}

		.entry-content,
		.entry-footer {
			width: @content-width;
			margin-left: auto;
			margin-right: auto;
		}
	}

	@media(min-width: @screen-xl) {

		.location-content {
			width: @container-primary-xl;
		}

		.entry-content,
		.entry-footer {
			width: @content-width-xl;
		}
	}
}

// Sidebar with location details
.location-sidebar {

	.bp-address {
		&:extend(.luigi-icon-location);
		background-position: left top;
		background-repeat: no-repeat;
		background-size: auto @font-base;
	}

	.bp-directions {
		margin: @base 0 @triple @quadruple;

		a {
			&:extend(.luigi-button all);
			&:extend(.luigi-button-sml all);
			&:extend(.luigi-button-primary all);
		}
	}

	.bp-opening-hours {
		margin: @triple 0 0;
		padding: 0;
		border: none;

		.bp-title {
			&:extend(.screen-reader-text all);
		}
	}
}

@media(min-width: @screen-lg) {

	.single-location.luigi-primary-sidebar-inactive .rtb-booking-form {

		.rtb-text label,
		.rtb-select label {
			width: 40%;
		}

		.rtb-text input,
		.rtb-select select {
			width: 60%;
		}
	}
}

// Location archive pages
.post-location-summary {

	.bp-map {
		min-height: 250px;
	}

	.bp-map + .bp-contact-card {
		border-top: none;
	}

	.bp-contact-card {
		max-width: 100%;
	}

	.luigi-contact-card-links {
		margin-bottom: 0;
	}

	.location-more-link {
		padding: @base @double;
		border: @border-line-light;
		border-top: none;
		font-size: @font-sml;
		line-height: @line-sml;
		text-align: right;
		background: @bg-lift;

		a {
			&:extend(.luigi-button-link all);
			&:extend(.luigi-button-link-primary all);
			&:extend(.luigi-button-link-sml all);
		}
	}
}
